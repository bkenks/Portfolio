<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" />

    <title>Brian Kenkel | Automotive Head Unit</title>

    <meta
      name="keywords"
      content="bkenks, brian kenkel, C#, Python, 
        Java, SQL, HTML5, CSS, Visual Studio Code, Github/Git, 
        LangChain, Windows, Linux, Mac OS"
    />

    <meta name="description" content="Brian Kenkel | Software Developer" />

    <!-- tab logo  -->
    <link rel="icon" type="image/png" href="assets/code_icon.png" />

    <!-- primary color -->
    <meta name="theme-color" content="#36d1dc" />

    <!-- OPEN GRAPH / FACEBOOK -->
    <meta property="og:type" content="website" />
    <!-- url -->
    <meta property="og:url" content="https://bkenks.github.io/portfolio/" />
    <!-- title tag -->
    <meta property="og:title" content="Brian Kenkel | Automotive Head Unit" />
    <!-- Give a short description that'll show up when you/someone shares your portfolio on different platform -->
    <meta
      property="og:description"
      content="Brian Kenkel's super cool portfolio site."
    />
    <!-- thumbnail -->
    <meta property="og:image" content="../assets/profile_picture.jpg" />

    <!-- TWITTER -->
    <meta property="twitter:card" content="summary_large_image" />
    <!-- url -->
    <meta
      property="twitter:url"
      content="https://bkenks.github.io/portfolio/"
    />
    <!-- title -->
    <meta
      property="twitter:title"
      content="Brian Kenkel | Automotive Head Unit"
    />
    <!-- description -->
    <meta
      property="twitter:description"
      content="Hi, my name is Brian Kenkel and this is my portfolio site!"
    />
    <!-- thumbnail -->
    <meta property="twitter:image" content="../assets/profile_picture.jpg" />

    <!-- link tags -->
    <link rel="preload" as="style" href="../css/main.css" />
    <link rel="stylesheet" href="../css/main.css" />

    <!-- FontAwesome Icons link -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
      integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script defer src="../javascript/scrollreveal.min.js"></script>
    <script
      defer
      type="text/javascript"
      src="../javascript/scrollveal.js"
    ></script>

    <style>
      .wavegtb {
        background-image: url("../assets/layered_waves_gtb.svg");

        aspect-ratio: 960/145.98;
        width: 100%;
        background-repeat: no-repeat;
        background-position: center;
        background-size: cover;
        border: 0px;
      }

      .wavebtg {
        background-image: url("../assets/layered_waves_btg.svg");

        aspect-ratio: 960/151.8;
        width: 100%;
        background-repeat: no-repeat;
        background-position: center;
        background-size: cover;
        border: 0px;
      }
    </style>
  </head>
  <body>
    <a
      href="../index.html#projects"
      class="cta-btn btn--back"
      rel="noopener noreferrer"
      >&#10508;</a
    >

    <!-- headunithero Section -->
    <div id="headunithero">
      <section class="container">
        <h1 class="headunithero-title">
          <span class="text-color-main name">Automotive Head Unit</span>
        </h1>
      </section>
    </div>
    <!-- /END headunithero Section -->

    <div class="wavegtb"></div>

    <!-- Head Unit Section -->
    <section id="headunit">
      <div class="container">
        <!-- <h2 class="section-title">Automotive Head Unit</h2> -->

        <!-- Section 1 (Image | Text) -->
        <div class="row headunit-wrapper">
          <div class="headunit-wrapper__image">
            <img
              src="../assets/headunit_decon.gif"
              alt="Head Unit Deconstructed"
            />
          </div>

          <div class="headunit-wrapper__inforight">
            <p class="headunit-wrapper__info-text">
              As an overview, this project took me a little over one month to
              complete. The main technologies used were a Raspberry Pi 4 Model B
              (4GB version I believe), a touchscreen, a driver board for the
              touchscreen, a backup camera, a wireless CarPlay adapter, and
              OpenAuto Pro. The first thing I did to build this project was
              start with the brains, the Raspberry Pi 4. I began by looking for
              software that would work give me a base to work off of. Magically,
              I found OpenAuto Pro, which was created for the exact purpose of
              using a Raspberry Pi as a head unit. After finding the perfect
              software to use, I flashed it over to the Raspberry Pi and started
              troubleshooting common problems.
            </p>
          </div>
        </div>
        <!-- End Section 1 -->

        <!-- Section 2 (Text | Image) -->
        <div class="row headunit-wrapper">
          <div class="headunit-wrapper__infoleft">
            <p class="headunit-wrapper__info-text">
              After getting the software fully set up. I started working on
              getting the new back-up camera to work with the Raspberry Pi. This
              is where I experienced a lot of problems. To start, the signal
              coming from the camera was RCA. To solve that, I simply bought a
              RCA to HDMI adapter. The next problem was how to manage the video
              feed from the Raspberry Pi and the backup camera. The solution was
              an HDMI splitter. However, the last thing I want to do is press a
              button on an HDMI splitter every time I switch the car between
              reverse and any other gear. To mediate this, I spliced the power
              wire of the backup camera and ran it to a GPIO pin on the
              Raspberry Pi. Mind you, the backup camera gets power from the
              reverse lights on the car, so it's only receiving power in
              reverse. Then, I wrote a python script that checks for a current
              on that GPIO pin. Once a current is detected, it will send a pulse
              of current out another GPIO pin. I attached the pulsing pin with a
              wire to the button on the HDMI splitter and... voil√†! The video
              input now switched when the car is in reverse. All I had to do, is
              do the reverse for when there is no power coming through the
              backup camera power wire.
            </p>
          </div>

          <div class="headunit-wrapper__image">
            <img
              src="../assets/car_headunit_on.png"
              alt="Head Unit in Car and On"
            />
          </div>
        </div>
        <!-- End Section 2 -->

        <!-- Section 3 (Image | Text) -->
        <div class="row headunit-wrapper">
          <div class="headunit-wrapper__image">
            <img src="../assets/car_decon.jpg" alt="Head Unit Deconstructed" />
          </div>

          <div class="headunit-wrapper__inforight">
            <p class="headunit-wrapper__info-text">
              This problem wasn't completely over yet though. I had a minor
              oversight in how the vehicle worked and didn't realize that when
              you put the car in park, the shifter passes over reverse and sends
              power to the reverse lights, and camera for a brief second. Now,
              in a world where everything is perfect and there is zero latency,
              the script should've still worked because when it stopped
              receiving power, it would send another pulse to toggle the video
              input back to the Raspberry Pi. This was not the case though. The
              fix was easy enough though. For this, let's pretend I have two
              functions named "pulseIn" and "pulseOut". "pulseIn" sends the
              pulse to toggle to the backup camera and "pulseOut" does the
              opposite. I programmed a slight delay into "pulseIn". I then
              implemented two booleans, "reverse", which would indicate if the
              car is in reverse or not, and "backupCam" which would indicate if
              the video input was currently on the backup camera. So, in this
              scenario "pulseIn" would run, hit a delay before it pulses, then
              check the boolean, "reverse" which would be false as the car has
              shifted into park by now. So, it does not send a pulse. Then,
              "pulseOut" would run as the car is shifted out of reverse and into
              park, check and see that "backupCam" is false since the initial
              pulse never fired, and wouldn't trigger a pulse.
            </p>
          </div>
        </div>
        <!-- End Section 3 -->

        <!-- Section 4 (Text | Image) -->
        <div class="row headunit-wrapper">
          <div class="headunit-wrapper__infoleft">
            <p class="headunit-wrapper__info-text">
              Finally, the big issues were over. All that was left was polishing
              up everything. This included implementing a wireless CarPlay
              adapter to avoid using a usb cable. I also hid all the wiring,
              utilizing cable ties to maintain organization. I created a boot
              screen as well for my specific vehicle in PhotoShop, which you can
              see in this gif. Lastly, I found a uninterrupted power source
              (UPS) for the Pi so that when it loses power as the car turns off,
              it will properly shut the Pi off without risking corrupting the SD
              card.
            </p>
          </div>

          <div class="headunit-wrapper__image">
            <img
              src="../assets/headunit_loading.gif"
              alt="Head Unit in Car and On"
            />
          </div>
        </div>
        <!-- End Section 4 -->
      </div>
    </section>
    <!-- END Head Unit Section -->

    <div class="wavebtg"></div>

    <!-- Footer Section -->
    <footer class="footer">
      <div class="container">
        <a href="#headunit" class="back-to-top" aria-label="go back to top">
          <i class="fa fa-angle-up fa-2x" aria-hidden="true"></i>
        </a>
        <div class="social-links">
          <a
            href="https://www.instagram.com/_briankenkel/"
            target="_blank"
            rel="noopener noreferrer"
            aria-label="instagram"
          >
            <i class="fa-brands fa-instagram"></i>
          </a>
          <a
            href="https://www.linkedin.com/in/briankenkel/"
            target="_blank"
            rel="noopener noreferrer"
            aria-label="linkedin"
          >
            <i class="fa-brands fa-linkedin"></i>
          </a>
          <a
            href="https://github.com/bkenks"
            target="_blank"
            rel="noopener noreferrer"
            aria-label="github"
          >
            <i class="fa-brands fa-github"></i>
          </a>
        </div>
      </div>
    </footer>
    <!-- END Footer Section -->

    <script>
      document.getElementById("year").textContent = new Date().getFullYear();
    </script>
    <script src="../javascript/vanilla-tilt.min.js"></script>
    <script type="text/javascript" src="../javascript/valtilt.js"></script>
    <script
      type="text/javascript"
      src="https://res.cloudinary.com/veseylab/raw/upload/v1684982764/magicmouse-2.0.0.cdn.min.js"
    ></script>
    <script type="text/javascript">
      options = {
        cursorOuter: "circle-basic",
        hoverEffect: "circle-move",
        hoverItemMove: false,
        defaultCursor: false,
        outerWidth: 30,
        outerHeight: 30,
      };
      magicMouse(options);
    </script>
  </body>
</html>
